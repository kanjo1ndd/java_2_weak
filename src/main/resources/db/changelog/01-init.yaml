databaseChangeLog:
  - changeSet:
      id: 01
      author: auto
      changes:
        - createTable:
            tableName: author
            columns:
              - column: {name: id, type: BIGSERIAL, constraints: {primaryKey: true}}
              - column: {name: name, type: varchar(255), constraints: {nullable: false, unique: true}}
        - createTable:
            tableName: book
            columns:
              - column: {name: id, type: BIGSERIAL, constraints: {primaryKey: true}}
              - column: {name: title, type: varchar(500), constraints: {nullable: false}}
              - column: {name: year_published, type: integer}
              - column: {name: genre, type: varchar(1000)}
              - column: {name: author_id, type: bigint}
        - addForeignKeyConstraint:
            baseTableName: book
            baseColumnNames: author_id
            referencedTableName: author
            referencedColumnNames: id
            constraintName: fk_book_author
  - changeSet:
      id: 02
      author: auto
      changes:
        - insert:
            tableName: author
            columns:
              - column: {name: id, valueNumeric: 1}
              - column: {name: name, value: "George Orwell"}
        - insert:
            tableName: author
            columns:
              - column: {name: id, valueNumeric: 2}
              - column: {name: name, value: "Jane Austen"}
        - insert:
            tableName: author
            columns:
              - column: {name: id, valueNumeric: 3}
              - column: {name: name, value: "William Shakespeare"}
